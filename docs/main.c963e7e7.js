(()=>{"use strict";var e,t={900:(e,t,n)=>{var o=n(751),r=n(641);const i={class:"app-container canvas-container"},s={ref:"playcanvas"};var a=n(922),l=n(437),d=n(24),c=n(92);let h,p,u,m;function g(e){const t=window.devicePixelRatio||1;e.forEach(e=>{e.width=e.clientWidth*t,e.height=e.clientHeight*t})}function f(e,t=65280){this.originalMaterials.forEach((e,t)=>{t.material=e}),e.forEach(e=>{const n=this.sceneObjectsByName.get(e);if(n&&n.isMesh){const e=new a.G_z({color:t,transparent:!1,opacity:1,depthWrite:!1,depthTest:!1,side:a.$EB,wireframe:!1});n.material=e;const o=n.children[0];o.material.depthWrite=!1,o.material.depthTest=!1,o.material.opacity=1,o.material.transparent=!0}else console.warn(`Object with name "${e}" not found or is not a Mesh.`)})}function w(){return new a.mrM({color:0,linewidth:3})}const b=window.innerWidth/window.innerHeight,y={data:()=>({highlightedObjectNames:[],originalMaterials:new Map,sceneObjectsByName:new Map,currentEdgeAngle:10}),methods:{takeHighResScreenshot(e=2){const t=h.domElement.width,n=h.domElement.height;h.setSize(t*e,n*e,!1),h.render(p,u);const o=h.domElement.toDataURL("image/png");h.setSize(t,n,!1),h.render(p,u);const r=document.createElement("a");r.href=o,r.download="high-res-screenshot.png",r.click()},screenshot(){this.takeHighResScreenshot()},onEdgeAngleChange(){this.recreateEdges(this.currentEdgeAngle)},recreateEdges(e=this.currentEdgeAngle){this.sceneObjectsByName.forEach((t,n)=>{const o=t.children.find(e=>e.isLineSegments);o&&t.remove(o);const r=new a.TDQ(t.geometry,e),i=new a.DXC(r,w());i.material.depthTest=!0,t.add(i)}),f.apply(this,[["Object_90","Object_88","Object_92"]])},clearScene(){this.modelGroup&&(this.modelGroup.traverse(e=>{e.isMesh&&(e.geometry&&e.geometry.dispose(),Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):e.material.dispose())}),p.remove(this.modelGroup)),this.sceneObjectsByName.clear(),this.originalMaterials.clear(),this.modelGroup=new a.YJl,p.add(this.modelGroup)},loadModelFromFile(e){const t=e.target.files[0];if(!t)return;this.clearScene();const n=new FileReader;n.onload=e=>{const t=e.target.result;(new c.B).parse(t,"",e=>{this.processLoadedModel(e.scene)},void 0,e=>{console.error("Error loading model from file:",e)})},n.readAsArrayBuffer(t)},processLoadedModel(e){this.loadedModel=e,this.modelGroup.add(e),e.traverse(e=>{if(e.isMesh){this.sceneObjectsByName.set(e.name,e),e.material=new a.G_z({color:new a.Q1f(16777215),emissive:new a.Q1f(16777215),emissiveIntensity:.5,transparent:!1,opacity:1,depthTest:!0,side:a.hB5,wireframe:!1}),this.originalMaterials.set(e,e.material);const t=function(e,t){const n=new a.TDQ(e.geometry,t),o=new a.DXC(n,w());return o.material.depthTest=!0,o}(e,this.currentEdgeAngle);e.add(t),t.position.x+=.01}}),this.focusOnModel(e),f.apply(this,[["Object_90","Object_88","Object_92"]])},focusOnModel(e){if(!e)return;const t=(new a.NRn).setFromObject(e),n=new a.iyt;t.getBoundingSphere(n);const o=n.center,r=n.radius;if(0===r)return;u.lookAt(o);const i=Math.max(2*r*1.2,1);u.top=i/2,u.bottom=-i/2,u.left=i*b/-2,u.right=i*b/2,u.updateProjectionMatrix(),m.target.copy(o),m.update()}},async mounted(){document.documentElement.setAttribute("data-theme","dark");const e=this.$refs.playcanvas;g([e]),p=new a.Z58,p.background=new a.Q1f(16777215),h=new l.JeP({antialias:!0,canvas:e,alpha:!0}),h.setSize(window.innerWidth,window.innerHeight),h.setPixelRatio(window.devicePixelRatio),h.shadowMap.enabled=!1,u=new a.qUd(10*b/-2,10*b/2,5,-5,1,1e3),u.position.set(50,50,50),u.lookAt(0,1,0),m=new d.N(u,e),m.enableDamping=!1,m.dampingFactor=.05;const t=new a.$p8(16777215,1);p.add(t);const n=new a.ZyN(16777215,1);p.add(n),this.modelGroup=new a.YJl,p.add(this.modelGroup),(new c.B).load("test.glb",e=>{this.processLoadedModel(e.scene)},void 0,e=>{console.error("An error happened during loading:",e)}),window.addEventListener("resize",()=>{const t=window.innerWidth/window.innerHeight;u.left=10*t/-2,u.right=10*t/2,u.top=5,u.bottom=-5,u.updateProjectionMatrix(),g([e]),h.setSize(window.innerWidth,window.innerHeight)}),function e(){requestAnimationFrame(e),m.update(),h.render(p,u)}(),console.log("---READY---")},components:{}},v=(0,n(262).A)(y,[["render",function(e,t,n,o,a,l){return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("canvas",s,null,512),(0,r.Lk)("button",{style:{position:"absolute",top:"0",left:"0"},onClick:t[0]||(t[0]=(...e)=>l.screenshot&&l.screenshot(...e))},"S"),(0,r.Q3)(' <input\r\n      type="file"\r\n      ref="fileInput"\r\n      accept=".glb,.gltf"\r\n      @change="loadModelFromFile"\r\n      style="position: absolute; top: 30px; left: 0; display: none;"\r\n    />\r\n    <button style="position: absolute; top: 30px; left: 0;" @click="$refs.fileInput.click()">Load Model</button>\r\n    <input\r\n      type="number"\r\n      min="0"\r\n      max="360"\r\n      v-model.number="currentEdgeAngle"\r\n      @input="onEdgeAngleChange"\r\n      style="position: absolute; top: 60px; left: 0; width: 200px;"\r\n    />\r\n    <span style="position: absolute; top: 80px; left: 0;">Angle: {{ currentEdgeAngle }}Â°</span> ')])}]]);console.log=()=>{},(window.vue=(0,o.Ef)(v)).mount("#app")}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){for(var[n,r,i]=e[c],a=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(o.O).every(e=>o.O[e](n[l]))?n.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[s,a,l]=n,d=0;if(s.some(t=>0!==e[t])){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(l)var c=l(o)}for(t&&t(n);d<s.length;d++)i=s[d],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},n=self.webpackChunk_reneos_slider_editor=self.webpackChunk_reneos_slider_editor||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[184,753,776],()=>o(900));r=o.O(r)})();